/* tslint:disable */
/* eslint-disable */
/**
 * Air Discount Scheme
 *    This documentation is provided to airline booking sites for   integration purposes.    If there exists an ID attribute on any object, that ID refers   to a unique identifier of the object it is in. If the object   has an additional ID, something like flightId that refers to   an unique identifier of an object that is related to the   current one.    DEV:     https://loftbru.dev01.devland.is/min-rettindi    STAGING: https://loftbru.staging01.devland.is/min-rettindi    PROD:    https://loftbru.island.is/min-rettindi    The flow is like this:      1.  Contact anyone at Stafrænt Ísland about access to our Github         organization and credentials for Gervimadur. Then navigate to         min-rettindi on dev or staging, there you will be able to access         the discountCodes and use them in the next steps.       2.  Use the discount to book a flight on your end:        2a. First you need to fetch the user that is registered to this           discountCode by calling           GET /api/public/discounts/{discountCode}/user.           This endpoint will return user specific information that           should be populated on your booking page and made readonly           so the user can not change it.        2b. Then you can create a flight. A flight contains all the           relevant information about the booking from the customer.           Use POST /api/public/discounts/{discountCode}/flights.           When this endpoint is used the discountCode is           invalidated, so the user can not use it and needs           to generate a new discountCode (step 1).       3.  When you have created a flight you have the possibility         to delete it. For example if a payment failure has         occurred. You can use the ID that you received when         creating the flight to delete it. You have two possibilities:        3a. You can either delete all related flightLegs that were           booked by calling           DELETE /api/public/flights/{flightId}        3b. Or delete specific flightLegs within the booking by:          3ba. First fetching the related flightLegs by calling              GET /api/public/flights/{flightId}          3bb. Then use the flightLeg IDs from \"3ba.\" result              to delete the desired flightLegs by calling              DELETE /api/public/flights/{flightId}/flightLegs/{flightLegId} 
 *
 * The version of the OpenAPI document: 1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import {
    AirlineUser,
    AirlineUserFromJSON,
    AirlineUserToJSON,
    Discount,
    DiscountFromJSON,
    DiscountToJSON,
    Flight,
    FlightFromJSON,
    FlightToJSON,
    User,
    UserFromJSON,
    UserToJSON,
} from '../models';

export interface PrivateDiscountControllerCreateDiscountCodeRequest {
    nationalId: string;
}

export interface PrivateDiscountControllerGetCurrentDiscountByNationalIdRequest {
    nationalId: string;
}

export interface PrivateFlightUserControllerGetUserFlightsRequest {
    nationalId: string;
}

export interface PrivateUserControllerGetUserRelationsRequest {
    nationalId: string;
}

export interface PublicDiscountControllerGetUserByDiscountCodeRequest {
    discountCode: string;
}

/**
 * 
 */
export class UsersApi extends runtime.BaseAPI {

    /**
     */
    async privateDiscountControllerCreateDiscountCodeRaw(requestParameters: PrivateDiscountControllerCreateDiscountCodeRequest): Promise<runtime.ApiResponse<Discount>> {
        if (requestParameters.nationalId === null || requestParameters.nationalId === undefined) {
            throw new runtime.RequiredError('nationalId','Required parameter requestParameters.nationalId was null or undefined when calling privateDiscountControllerCreateDiscountCode.');
        }

        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/private/users/{nationalId}/discounts`.replace(`{${"nationalId"}}`, encodeURIComponent(String(requestParameters.nationalId))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => DiscountFromJSON(jsonValue));
    }

    /**
     */
    async privateDiscountControllerCreateDiscountCode(requestParameters: PrivateDiscountControllerCreateDiscountCodeRequest): Promise<Discount> {
        const response = await this.privateDiscountControllerCreateDiscountCodeRaw(requestParameters);
        return await response.value();
    }

    /**
     */
    async privateDiscountControllerGetCurrentDiscountByNationalIdRaw(requestParameters: PrivateDiscountControllerGetCurrentDiscountByNationalIdRequest): Promise<runtime.ApiResponse<Discount>> {
        if (requestParameters.nationalId === null || requestParameters.nationalId === undefined) {
            throw new runtime.RequiredError('nationalId','Required parameter requestParameters.nationalId was null or undefined when calling privateDiscountControllerGetCurrentDiscountByNationalId.');
        }

        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/private/users/{nationalId}/discounts/current`.replace(`{${"nationalId"}}`, encodeURIComponent(String(requestParameters.nationalId))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => DiscountFromJSON(jsonValue));
    }

    /**
     */
    async privateDiscountControllerGetCurrentDiscountByNationalId(requestParameters: PrivateDiscountControllerGetCurrentDiscountByNationalIdRequest): Promise<Discount> {
        const response = await this.privateDiscountControllerGetCurrentDiscountByNationalIdRaw(requestParameters);
        return await response.value();
    }

    /**
     */
    async privateFlightUserControllerGetUserAndRelationsFlightsRaw(): Promise<runtime.ApiResponse<Array<Flight>>> {
        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/private/users/userAndRelationsFlights`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(FlightFromJSON));
    }

    /**
     */
    async privateFlightUserControllerGetUserAndRelationsFlights(): Promise<Array<Flight>> {
        const response = await this.privateFlightUserControllerGetUserAndRelationsFlightsRaw();
        return await response.value();
    }

    /**
     */
    async privateFlightUserControllerGetUserFlightsRaw(requestParameters: PrivateFlightUserControllerGetUserFlightsRequest): Promise<runtime.ApiResponse<Array<Flight>>> {
        if (requestParameters.nationalId === null || requestParameters.nationalId === undefined) {
            throw new runtime.RequiredError('nationalId','Required parameter requestParameters.nationalId was null or undefined when calling privateFlightUserControllerGetUserFlights.');
        }

        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/private/users/{nationalId}/flights`.replace(`{${"nationalId"}}`, encodeURIComponent(String(requestParameters.nationalId))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(FlightFromJSON));
    }

    /**
     */
    async privateFlightUserControllerGetUserFlights(requestParameters: PrivateFlightUserControllerGetUserFlightsRequest): Promise<Array<Flight>> {
        const response = await this.privateFlightUserControllerGetUserFlightsRaw(requestParameters);
        return await response.value();
    }

    /**
     */
    async privateUserControllerGetUserRelationsRaw(requestParameters: PrivateUserControllerGetUserRelationsRequest): Promise<runtime.ApiResponse<Array<User>>> {
        if (requestParameters.nationalId === null || requestParameters.nationalId === undefined) {
            throw new runtime.RequiredError('nationalId','Required parameter requestParameters.nationalId was null or undefined when calling privateUserControllerGetUserRelations.');
        }

        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/private/users/{nationalId}/relations`.replace(`{${"nationalId"}}`, encodeURIComponent(String(requestParameters.nationalId))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(UserFromJSON));
    }

    /**
     */
    async privateUserControllerGetUserRelations(requestParameters: PrivateUserControllerGetUserRelationsRequest): Promise<Array<User>> {
        const response = await this.privateUserControllerGetUserRelationsRaw(requestParameters);
        return await response.value();
    }

    /**
     */
    async publicDiscountControllerGetUserByDiscountCodeRaw(requestParameters: PublicDiscountControllerGetUserByDiscountCodeRequest): Promise<runtime.ApiResponse<AirlineUser>> {
        if (requestParameters.discountCode === null || requestParameters.discountCode === undefined) {
            throw new runtime.RequiredError('discountCode','Required parameter requestParameters.discountCode was null or undefined when calling publicDiscountControllerGetUserByDiscountCode.');
        }

        const queryParameters: runtime.HTTPQuery = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = typeof token === 'function' ? token("bearer", []) : token;

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/api/public/discounts/{discountCode}/user`.replace(`{${"discountCode"}}`, encodeURIComponent(String(requestParameters.discountCode))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        });

        return new runtime.JSONApiResponse(response, (jsonValue) => AirlineUserFromJSON(jsonValue));
    }

    /**
     */
    async publicDiscountControllerGetUserByDiscountCode(requestParameters: PublicDiscountControllerGetUserByDiscountCodeRequest): Promise<AirlineUser> {
        const response = await this.publicDiscountControllerGetUserByDiscountCodeRaw(requestParameters);
        return await response.value();
    }

}
